{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAE9B,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS","debugId":null}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Avatar, AvatarImage, AvatarFallback }\n"],"names":[],"mappings":";;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,6LAAC,qKAAA,CAAA,OAAoB;QACnB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,qKAAA,CAAA,QAAqB;QACpB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EAAE,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,qKAAA,CAAA,WAAwB;QACvB,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,oEACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS","debugId":null}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/options.ts"],"sourcesContent":["// Character options for narration\nexport const characters = [\n\t{\n\t\tid: \"spongebob\",\n\t\tname: \"SpongeBob\",\n\t\tavatar: \"/assets/spongebob.png\",\n\t},\n\t{\n\t\tid: \"biden\",\n\t\tname: \"Joe Biden\",\n\t\tavatar: \"/assets/joebiden.png\",\n\t},\n\t{\n\t\tid: \"peter\",\n\t\tname: \"Peter Griffin\",\n\t\tavatar: \"/assets/petergriffin.png\",\n\t},\n];\n\n// Background options\nexport const backgrounds = [\n\t{\n\t\tid: \"minecraft\",\n\t\tname: \"Minecraft Parkour\",\n\t\timage: \"/assets/parkour.png\",\n\t\tdescription: \"Learn while watching Minecraft parkour gameplay\",\n\t},\n\t{\n\t\tid: \"construction\",\n\t\tname: \"Construction\",\n\t\timage: \"/assets/construction.png\",\n\t\tdescription: \"Building and construction scenes as your background\",\n\t},\n\t{\n\t\tid: \"soap\",\n\t\tname: \"Soap Cutting\",\n\t\timage: \"/assets/soapcutting.png\",\n\t\tdescription: \"Relaxing soap cutting videos in the background\",\n\t},\n];\n"],"names":[],"mappings":"AAAA,kCAAkC;;;;;AAC3B,MAAM,aAAa;IACzB;QACC,IAAI;QACJ,MAAM;QACN,QAAQ;IACT;IACA;QACC,IAAI;QACJ,MAAM;QACN,QAAQ;IACT;IACA;QACC,IAAI;QACJ,MAAM;QACN,QAAQ;IACT;CACA;AAGM,MAAM,cAAc;IAC1B;QACC,IAAI;QACJ,MAAM;QACN,OAAO;QACP,aAAa;IACd;IACA;QACC,IAAI;QACJ,MAAM;QACN,OAAO;QACP,aAAa;IACd;IACA;QACC,IAAI;QACJ,MAAM;QACN,OAAO;QACP,aAAa;IACd;CACA","debugId":null}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":["file:///Users/coltonkirsten/Desktop/Projects/STIMSTUDYFRONT/stimstudy_frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport type React from \"react\";\n\nimport { useEffect, useState, useRef, type TouchEvent } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Loader2,\n  Video,\n  Heart,\n  Share2,\n  MessageCircle,\n  X,\n  Send,\n  Copy,\n  Check,\n} from \"lucide-react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { backgrounds, characters } from \"@/options\";\nimport ReactMarkdown from \"react-markdown\";\n\n// Add markdown styles\nconst markdownStyles = `\n.markdown-content {\n  white-space: pre-wrap;\n}\n\n.markdown-content p {\n  margin-bottom: 0.75rem;\n}\n\n.markdown-content p:last-child {\n  margin-bottom: 0;\n}\n\n.markdown-content ul, .markdown-content ol {\n  margin-left: 1.5rem;\n  margin-bottom: 0.75rem;\n}\n\n.markdown-content h1, .markdown-content h2, .markdown-content h3,\n.markdown-content h4, .markdown-content h5, .markdown-content h6 {\n  margin-top: 1rem;\n  margin-bottom: 0.5rem;\n  font-weight: 600;\n}\n\n.markdown-content h1 { font-size: 1.5rem; }\n.markdown-content h2 { font-size: 1.25rem; }\n.markdown-content h3 { font-size: 1.125rem; }\n\n.markdown-content code {\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 0.2rem 0.4rem;\n  border-radius: 0.25rem;\n  font-family: monospace;\n}\n\n.markdown-content pre {\n  background-color: rgba(0, 0, 0, 0.3);\n  padding: 0.75rem;\n  border-radius: 0.25rem;\n  overflow-x: auto;\n  margin-bottom: 0.75rem;\n}\n\n.markdown-content blockquote {\n  border-left: 3px solid rgba(255, 255, 255, 0.3);\n  padding-left: 1rem;\n  margin-left: 0;\n  margin-bottom: 0.75rem;\n  font-style: italic;\n}\n\n.markdown-content a {\n  color: #60a5fa;\n  text-decoration: underline;\n  text-decoration-color: rgba(96, 165, 250, 0.4);\n}\n`;\n\n// Add this custom hook at the top of the file, before the StudyPlanGenerator component\n// This will help with detecting swipe gestures for mobile users\n\nfunction useSwipe(onSwipeUp: () => void, onSwipeDown: () => void) {\n  const touchStart = useRef<number | null>(null);\n  const touchEnd = useRef<number | null>(null);\n\n  // Minimum distance required for a swipe\n  const minSwipeDistance = 50;\n\n  const onTouchStart = (e: TouchEvent) => {\n    touchEnd.current = null;\n    touchStart.current = e.targetTouches[0].clientY;\n  };\n\n  const onTouchMove = (e: TouchEvent) => {\n    touchEnd.current = e.targetTouches[0].clientY;\n  };\n\n  const onTouchEnd = () => {\n    if (!touchStart.current || !touchEnd.current) return;\n\n    const distance = touchStart.current - touchEnd.current;\n    const isSwipeUp = distance > minSwipeDistance;\n    const isSwipeDown = distance < -minSwipeDistance;\n\n    if (isSwipeUp) {\n      onSwipeUp();\n    }\n\n    if (isSwipeDown) {\n      onSwipeDown();\n    }\n\n    // Reset values\n    touchStart.current = null;\n    touchEnd.current = null;\n  };\n\n  return {\n    onTouchStart,\n    onTouchMove,\n    onTouchEnd,\n  };\n}\n\n// Add a constant for the API URL at the top of the file with other constants\nconst API_BASE_URL =\n  process.env.NEXT_PUBLIC_API_URL || \"http://192.168.0.38:4000\";\n\n// Update generateStudyPlan function to use the API_BASE_URL\nconst generateStudyPlan = async (topic: string) => {\n  try {\n    // Use the API_BASE_URL constant instead of hardcoded localhost\n    const response = await fetch(`${API_BASE_URL}/createStudyPlan`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ prompt: `${topic}` }),\n      // Add timeout to prevent long-hanging requests\n      signal: AbortSignal.timeout(10000), // 10-second timeout\n    });\n\n    if (!response.ok) {\n      throw new Error(`Error: ${response.statusText}`);\n    }\n\n    const rawData = await response.text();\n    if (!rawData) {\n      console.error(\"Empty response from API\");\n      return null;\n    }\n\n    const cleanedData = rawData\n      .replace(/^```json/, \"\")\n      .replace(/```$/, \"\")\n      .trim();\n\n    try {\n      const data = JSON.parse(cleanedData);\n\n      if (!Array.isArray(data)) {\n        console.error(\"API returned non-array data:\", data);\n        return null;\n      }\n\n      return data;\n    } catch (parseError) {\n      console.error(\"Failed to parse JSON:\", parseError, \"Raw data:\", rawData);\n      return null;\n    }\n  } catch (error) {\n    console.error(\"Failed to generate study plan:\", error);\n    return null;\n  }\n};\n\nconst generateMockStudyPlan = (topic: string) => {\n  return [\n    {\n      subject: \"Theory\",\n      title: `Introduction to ${topic}`,\n      outline: `Overview of key ${topic} concepts and fundamentals.`,\n      proposed_length: 180,\n      depth_of_information: \"Beginner\",\n    },\n    {\n      subject: \"Application\",\n      title: `Practical ${topic} Examples`,\n      outline: `Hands-on demonstration of ${topic} in real-world scenarios.`,\n      proposed_length: 240,\n      depth_of_information: \"Intermediate\",\n    },\n    {\n      subject: \"Theory\",\n      title: `Advanced ${topic} Concepts`,\n      outline: `Deep dive into complex ${topic} principles.`,\n      proposed_length: 300,\n      depth_of_information: \"Advanced\",\n    },\n    {\n      subject: \"Application\",\n      title: `Building with ${topic}`,\n      outline: `Step-by-step guide to creating a ${topic} project.`,\n      proposed_length: 360,\n      depth_of_information: \"Intermediate\",\n    },\n  ];\n};\n\n// Comment type definition\ntype Comment = {\n  id: string;\n  user: {\n    name: string;\n    avatar: string;\n  };\n  text: string;\n  timestamp: string;\n  isAI?: boolean;\n};\n\n// Heart animation component\nconst FloatingHeart = ({ style }: { style: React.CSSProperties }) => {\n  return (\n    <div\n      className=\"absolute text-red-500 animate-float-up pointer-events-none\"\n      style={style}\n    >\n      <Heart fill=\"currentColor\" size={16} />\n    </div>\n  );\n};\n\n// Share modal component\nconst ShareModal = ({\n  isOpen,\n  onClose,\n  videoTitle,\n}: {\n  isOpen: boolean;\n  onClose: () => void;\n  videoTitle: string;\n}) => {\n  const [copied, setCopied] = useState(false);\n  const shareUrl = `https://study-videos.example.com/share/${encodeURIComponent(\n    videoTitle.toLowerCase().replace(/\\s+/g, \"-\")\n  )}`;\n\n  const copyToClipboard = () => {\n    navigator.clipboard.writeText(shareUrl);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <div\n      className=\"fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4\"\n      onClick={onClose}\n    >\n      <div\n        className=\"bg-white rounded-lg max-w-md w-full p-4\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex justify-between items-center mb-4\">\n          <h3 className=\"text-lg font-bold\">Share this video</h3>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700\"\n          >\n            <X size={20} />\n          </button>\n        </div>\n\n        <p className=\"text-sm text-gray-600 mb-2\">\n          Share this learning video with friends:\n        </p>\n\n        <div className=\"flex items-center gap-2 mb-4\">\n          <Input value={shareUrl} readOnly className=\"flex-1\" />\n          <Button size=\"icon\" onClick={copyToClipboard} variant=\"outline\">\n            {copied ? <Check size={18} /> : <Copy size={18} />}\n          </Button>\n        </div>\n\n        <div className=\"grid grid-cols-4 gap-4\">\n          {[\"Twitter\", \"Facebook\", \"WhatsApp\", \"Email\"].map((platform) => (\n            <button\n              key={platform}\n              className=\"flex flex-col items-center justify-center p-2 rounded-lg hover:bg-gray-100\"\n            >\n              <div className=\"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center mb-1\">\n                <span className=\"text-xs\">{platform[0]}</span>\n              </div>\n              <span className=\"text-xs\">{platform}</span>\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Add this mock video generation function\nconst generateMockVideos = (count: number = 4): string[] => {\n  // Use demo videos that are known to work well on mobile\n  const demoVideos = [\n    \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",\n    \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4\",\n    \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4\",\n    \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4\",\n    \"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4\",\n  ];\n\n  // Return requested number of videos, cycling through available ones if needed\n  return Array.from(\n    { length: count },\n    (_, i) => demoVideos[i % demoVideos.length]\n  );\n};\n\nexport default function StudyPlanGenerator() {\n  const [step, setStep] = useState(1);\n  const [learningPrompt, setLearningPrompt] = useState(\"\");\n  const [studyPlan, setStudyPlan] = useState<any[]>([]);\n  const [refinementInstructions, setRefinementInstructions] = useState(\"\");\n  const [selectedCharacter, setSelectedCharacter] = useState(\"\");\n  const [selectedBackground, setSelectedBackground] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(0);\n  const [hearts, setHearts] = useState<\n    { id: number; style: React.CSSProperties }[]\n  >([]);\n  const [likedVideos, setLikedVideos] = useState<number[]>([]);\n  const [videoUrls, setVideoUrls] = useState<string[]>([]);\n  const [videoLoading, setVideoLoading] = useState<boolean[]>([]);\n  const [videoErrors, setVideoErrors] = useState<boolean[]>([]);\n  const videoRefs = useRef<Array<HTMLVideoElement | null>>([]);\n  const nextHeartId = useRef(0);\n\n  // New state for comments and sharing\n  const [showComments, setShowComments] = useState(false);\n  const [commentText, setCommentText] = useState(\"\");\n  const [comments, setComments] = useState<Record<number, Comment[]>>({});\n  const [isShareModalOpen, setIsShareModalOpen] = useState(false);\n  const [isSubmittingComment, setIsSubmittingComment] = useState(false);\n  // New state for chat session\n  const [chatSessionIds, setChatSessionIds] = useState<Record<number, string>>(\n    {}\n  );\n\n  // Ref for wheel scrolling\n  const wheelTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n  const isScrollingRef = useRef(false);\n  const videoContainerRef = useRef<HTMLDivElement>(null);\n  const commentsEndRef = useRef<HTMLDivElement>(null);\n\n  // Add a scroll-to-top effect when changing to key steps\n  useEffect(() => {\n    if (step === 4 || step === 5) {\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    }\n  }, [step]);\n\n  // Handle the initial prompt submission\n  const handlePromptSubmit = async () => {\n    if (!learningPrompt) return;\n\n    setIsLoading(true);\n\n    try {\n      // Simulate API call with a timeout\n      const generatedPlan = await new Promise<any[]>((resolve) => {\n        setTimeout(async () => {\n          try {\n            const plan = await generateStudyPlan(learningPrompt);\n            if (plan && Array.isArray(plan) && plan.length > 0) {\n              resolve(plan);\n            } else {\n              // Fallback to mock data if API returns null or empty array\n              console.log(\"Using mock data as fallback\");\n              resolve(generateMockStudyPlan(learningPrompt));\n            }\n          } catch (error) {\n            console.error(\"Error generating study plan:\", error);\n            resolve(generateMockStudyPlan(learningPrompt));\n          }\n        }, 1500);\n      });\n\n      setStudyPlan(generatedPlan || []);\n      setIsLoading(false);\n      setStep(2);\n    } catch (error) {\n      console.error(\"Failed in handlePromptSubmit:\", error);\n      // Use mock data as fallback\n      setStudyPlan(generateMockStudyPlan(learningPrompt));\n      setIsLoading(false);\n      setStep(2);\n    }\n  };\n\n  const debug = () => {\n    // console.log(\"debug \", showComments);\n    setShowComments(!showComments);\n    // console.log(\"debug \", showComments);\n  };\n\n  // Handle study plan approval\n  const handlePlanApproval = (approved: boolean) => {\n    if (approved) {\n      setStep(4); // Go to character selection\n    } else {\n      setStep(3); // Go to refinement\n    }\n  };\n\n  const handleRefinementSubmit = async () => {\n    if (!refinementInstructions) return;\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/refineStudyPlan`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          prompt: JSON.stringify(studyPlan),\n          refinement: refinementInstructions,\n        }),\n        signal: AbortSignal.timeout(15000), // 15-second timeout\n      });\n\n      if (!response.ok) {\n        throw new Error(`Error: ${response.statusText}`);\n      }\n\n      const rawData = await response.text();\n      if (!rawData) {\n        throw new Error(\"Empty response from refinement API\");\n      }\n\n      const cleanedData = rawData\n        .replace(/^```json/, \"\")\n        .replace(/```$/, \"\")\n        .trim();\n\n      try {\n        // Ensure the data is parsed as an array\n        const refinedPlan = JSON.parse(cleanedData);\n\n        if (!Array.isArray(refinedPlan)) {\n          throw new Error(\"Received invalid study plan format\");\n        }\n\n        setStudyPlan(refinedPlan);\n        setRefinementInstructions(\"\");\n        setIsLoading(false);\n        setStep(2); // Back to review\n      } catch (parseError) {\n        console.error(\"Failed to parse refinement JSON:\", parseError);\n        // Keep the original study plan if parsing fails\n        setIsLoading(false);\n        // Show an error message\n        alert(\n          \"Sorry, there was an error refining your study plan. Please try again.\"\n        );\n      }\n    } catch (error) {\n      console.error(\"Failed to refine study plan:\", error);\n      setIsLoading(false);\n      // Keep the original plan\n      alert(\n        \"Sorry, there was an error connecting to the server. Please try again.\"\n      );\n    }\n  };\n\n  // Handle character and background selection\n  const handleContinueToVideos = async () => {\n    if (!selectedCharacter || !selectedBackground) return;\n\n    setIsLoading(true);\n\n    try {\n      let data: string[] = [];\n\n      // First try the standard API approach\n      try {\n        console.log(\"Attempting to generate videos via API\");\n        const response = await fetch(\n          `${API_BASE_URL}/generateStudyPlanVideos`,\n          {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n              studyPlan: JSON.stringify(studyPlan),\n              background: selectedBackground,\n              voiceActor: selectedCharacter,\n            }),\n            signal: AbortSignal.timeout(5000), // Shorter timeout for faster fallback\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(`API error: ${response.statusText}`);\n        }\n\n        data = await response.json();\n\n        if (!Array.isArray(data) || data.length === 0) {\n          throw new Error(\"API returned empty or invalid data\");\n        }\n\n        console.log(\"Videos generated successfully via API:\", data);\n      } catch (apiError) {\n        console.warn(\n          \"API video generation failed, using fallback videos:\",\n          apiError\n        );\n        // Use mock videos as fallback - pass the actual length we need\n        data = generateMockVideos(studyPlan.length || 4);\n        console.log(\"Using fallback videos:\", data);\n      }\n\n      // Store the video URLs\n      setVideoUrls(data);\n      // Initialize loading and error states for each video\n      setVideoLoading(new Array(data.length).fill(true));\n      setVideoErrors(new Array(data.length).fill(false));\n      setIsLoading(false);\n      setStep(5); // Go to video display\n    } catch (error) {\n      console.error(\"Failed completely in handleContinueToVideos:\", error);\n\n      // Last resort fallback - still show videos even if all else fails\n      try {\n        console.log(\"Using emergency fallback videos\");\n        const mockVideos = generateMockVideos(studyPlan.length || 4);\n        setVideoUrls(mockVideos);\n        setVideoLoading(new Array(mockVideos.length).fill(true));\n        setVideoErrors(new Array(mockVideos.length).fill(false));\n        setIsLoading(false);\n        setStep(5);\n      } catch (fallbackError) {\n        console.error(\"Even fallback failed:\", fallbackError);\n        setIsLoading(false);\n        alert(\"Sorry, there was an error generating videos. Please try again.\");\n      }\n    }\n  };\n\n  // Handle video load events\n  const handleVideoLoad = (index: number) => {\n    console.log(`Video ${index} loaded successfully: ${videoUrls[index]}`);\n    const newLoadingState = [...videoLoading];\n    newLoadingState[index] = false;\n    setVideoLoading(newLoadingState);\n\n    // Try to play the video if it's the current one\n    if (index === currentVideoIndex) {\n      const videoRef = videoRefs.current[index];\n      if (videoRef) {\n        // Use muted playback which is more likely to work on mobile\n        videoRef.muted = true;\n        videoRef\n          .play()\n          .then(() => {\n            // Once successfully playing, can try to unmute on user interaction\n            console.log(`Video ${index} playing successfully`);\n            videoRef.muted = false;\n          })\n          .catch((err) => {\n            console.warn(\n              \"Could not autoplay video, will require user interaction:\",\n              err\n            );\n          });\n      }\n    }\n  };\n\n  // Handle video error events\n  const handleVideoError = (index: number) => {\n    console.error(`Error loading video ${index}: ${videoUrls[index]}`);\n\n    // Try to automatically replace with a fallback video\n    const fallbackVideos = generateMockVideos(studyPlan.length);\n    const newUrls = [...videoUrls];\n    newUrls[index] = fallbackVideos[index % fallbackVideos.length];\n    console.log(`Replacing with fallback: ${newUrls[index]}`);\n    setVideoUrls(newUrls);\n\n    // Reset error state so it will try to load the new URL\n    const newErrorState = [...videoErrors];\n    newErrorState[index] = false;\n    setVideoErrors(newErrorState);\n\n    // Keep the loading state as true\n    const newLoadingState = [...videoLoading];\n    newLoadingState[index] = true;\n    setVideoLoading(newLoadingState);\n  };\n\n  // Add this function to handle video navigation\n  const navigateVideo = (direction: \"next\" | \"prev\") => {\n    if (showComments) {\n      setShowComments(false);\n      return;\n    }\n\n    if (direction === \"next\" && currentVideoIndex < videoUrls.length - 1) {\n      setCurrentVideoIndex(currentVideoIndex + 1);\n    } else if (direction === \"prev\" && currentVideoIndex > 0) {\n      setCurrentVideoIndex(currentVideoIndex - 1);\n    }\n  };\n\n  // Add this to handle keyboard navigation\n  useEffect(() => {\n    if (step !== 5) return;\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key === \"ArrowUp\" || e.key === \"ArrowLeft\") {\n        navigateVideo(\"prev\");\n      } else if (e.key === \"ArrowDown\" || e.key === \"ArrowRight\") {\n        navigateVideo(\"next\");\n      } else if (e.key === \"Escape\" && showComments) {\n        setShowComments(false);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [step, currentVideoIndex, videoUrls.length, showComments]);\n\n  // Handle wheel scrolling for trackpad\n  useEffect(() => {\n    if (step !== 5) return;\n\n    const handleWheel = (e: WheelEvent) => {\n      // If comments are open, let the default scroll behavior work\n      if (showComments) return;\n\n      e.preventDefault();\n\n      // Debounce wheel events to prevent too many navigations\n      if (wheelTimeoutRef.current) {\n        clearTimeout(wheelTimeoutRef.current);\n      }\n\n      if (!isScrollingRef.current) {\n        isScrollingRef.current = true;\n\n        // Determine scroll direction\n        if (e.deltaY > 50) {\n          navigateVideo(\"next\");\n        } else if (e.deltaY < -50) {\n          navigateVideo(\"prev\");\n        }\n\n        // Reset scrolling flag after a delay\n        wheelTimeoutRef.current = setTimeout(() => {\n          isScrollingRef.current = false;\n        }, 800);\n      }\n    };\n\n    const container = videoContainerRef.current;\n    if (container) {\n      container.addEventListener(\"wheel\", handleWheel, { passive: false });\n    }\n\n    return () => {\n      if (container) {\n        container.removeEventListener(\"wheel\", handleWheel);\n      }\n      if (wheelTimeoutRef.current) {\n        clearTimeout(wheelTimeoutRef.current);\n      }\n    };\n  }, [step, currentVideoIndex, videoUrls.length, showComments]);\n\n  // Add this to handle swipe gestures\n  const { onTouchStart, onTouchMove, onTouchEnd } = useSwipe(\n    () => navigateVideo(\"next\"),\n    () => navigateVideo(\"prev\")\n  );\n\n  // Handle heart button click\n  const handleHeartClick = (videoIndex: number) => {\n    // Toggle like status\n    if (likedVideos.includes(videoIndex)) {\n      setLikedVideos(likedVideos.filter((id) => id !== videoIndex));\n    } else {\n      setLikedVideos([...likedVideos, videoIndex]);\n\n      // Create floating hearts\n      const newHearts = Array.from({ length: 8 }, (_, i) => {\n        const id = nextHeartId.current++;\n        return {\n          id,\n          style: {\n            right: `${30 + Math.random() * 20}px`,\n            bottom: `${120 + Math.random() * 40}px`,\n            opacity: 0.8 + Math.random() * 0.2,\n            transform: `scale(${0.8 + Math.random() * 0.7}) rotate(${\n              -20 + Math.random() * 40\n            }deg)`,\n            animationDuration: `${1 + Math.random() * 1.5}s`,\n            animationDelay: `${Math.random() * 0.2}s`,\n          },\n        };\n      });\n\n      setHearts([...hearts, ...newHearts]);\n\n      // Remove hearts after animation completes\n      setTimeout(() => {\n        setHearts((hearts) =>\n          hearts.filter(\n            (heart) => !newHearts.some((newHeart) => newHeart.id === heart.id)\n          )\n        );\n      }, 3000);\n    }\n  };\n\n  // Handle comment submission\n  const handleCommentSubmit = async () => {\n    if (!commentText.trim()) return;\n\n    setIsSubmittingComment(true);\n\n    // Add user comment\n    const userComment: Comment = {\n      id: Date.now().toString(),\n      user: {\n        name: \"You\",\n        avatar: \"/placeholder.svg?height=40&width=40\",\n      },\n      text: commentText,\n      timestamp: new Date().toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }),\n    };\n\n    // Update comments for current video\n    const currentComments = comments[currentVideoIndex] || [];\n    const updatedComments = [...currentComments, userComment];\n    setComments({\n      ...comments,\n      [currentVideoIndex]: updatedComments,\n    });\n\n    // Clear input\n    setCommentText(\"\");\n\n    try {\n      // Check if we already have a session for this video\n      let sessionId = chatSessionIds[currentVideoIndex];\n\n      // If no session exists for this video, start a new one\n      if (!sessionId) {\n        const startResponse = await fetch(`${API_BASE_URL}/chat/start`, {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            studyPlan: studyPlan[currentVideoIndex],\n          }),\n        });\n\n        if (!startResponse.ok) {\n          throw new Error(`Failed to start chat: ${startResponse.statusText}`);\n        }\n\n        const startData = await startResponse.json();\n        sessionId = startData.session_id;\n\n        // Save the session ID for this video\n        setChatSessionIds({\n          ...chatSessionIds,\n          [currentVideoIndex]: sessionId,\n        });\n      }\n\n      // Send the user message to the API\n      const messageResponse = await fetch(`${API_BASE_URL}/chat/message`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          session_id: sessionId,\n          message: userComment.text,\n        }),\n      });\n\n      if (!messageResponse.ok) {\n        throw new Error(\n          `Failed to send message: ${messageResponse.statusText}`\n        );\n      }\n\n      const messageData = await messageResponse.json();\n\n      // Create AI response from the API response\n      const aiResponse: Comment = {\n        id: (Date.now() + 1).toString(),\n        user: {\n          name:\n            characters.find((c) => c.id === selectedCharacter)?.name ||\n            \"AI Assistant\",\n          avatar:\n            characters.find((c) => c.id === selectedCharacter)?.avatar ||\n            \"/placeholder.svg?height=40&width=40\",\n        },\n        text: messageData.response,\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        }),\n        isAI: true,\n      };\n\n      // Update comments with AI response\n      setComments({\n        ...comments,\n        [currentVideoIndex]: [...updatedComments, aiResponse],\n      });\n    } catch (error) {\n      console.error(\"Error in chat:\", error);\n\n      // Add an error message as AI response in case of failure\n      const errorResponse: Comment = {\n        id: (Date.now() + 1).toString(),\n        user: {\n          name: \"System\",\n          avatar: \"/placeholder.svg?height=40&width=40\",\n        },\n        text: \"Sorry, I couldn't process your message. Please try again later.\",\n        timestamp: new Date().toLocaleTimeString([], {\n          hour: \"2-digit\",\n          minute: \"2-digit\",\n        }),\n        isAI: true,\n      };\n\n      setComments({\n        ...comments,\n        [currentVideoIndex]: [...updatedComments, errorResponse],\n      });\n    } finally {\n      setIsSubmittingComment(false);\n\n      // Scroll to bottom of comments\n      if (commentsEndRef.current) {\n        commentsEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n      }\n    }\n  };\n\n  // Handle share button click\n  const handleShareClick = () => {\n    setIsShareModalOpen(true);\n  };\n\n  // Scroll to bottom of comments when comments are shown\n  useEffect(() => {\n    if (showComments && commentsEndRef.current) {\n      commentsEndRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [showComments]);\n\n  // Add effect to control video playback when current index changes\n  useEffect(() => {\n    if (step !== 5) return;\n\n    // Pause all videos\n    videoRefs.current.forEach((videoRef, idx) => {\n      if (videoRef && idx !== currentVideoIndex) {\n        try {\n          videoRef.pause();\n        } catch (e) {\n          console.warn(\"Could not pause video:\", e);\n        }\n      }\n    });\n\n    // Play current video\n    const currentVideo = videoRefs.current[currentVideoIndex];\n    if (\n      currentVideo &&\n      !videoLoading[currentVideoIndex] &&\n      !videoErrors[currentVideoIndex]\n    ) {\n      // On mobile, especially iOS, videos can only play after user interaction\n      // Try muted first which has less restrictions\n      currentVideo.muted = true;\n\n      const playPromise = currentVideo.play();\n\n      if (playPromise !== undefined) {\n        playPromise\n          .then(() => {\n            // Auto-play successful\n            // Can try to unmute - this may still require user interaction\n            setTimeout(() => {\n              try {\n                currentVideo.muted = false;\n              } catch (e) {\n                console.warn(\"Could not unmute video:\", e);\n              }\n            }, 1000);\n          })\n          .catch((err) => {\n            console.warn(\"Auto-play prevented by browser:\", err);\n            // Show a play button or instructions for user interaction\n            // This can be handled by the controls attribute\n          });\n      }\n    }\n  }, [currentVideoIndex, step, videoLoading, videoErrors]);\n\n  // Update refs array when video URLs change\n  useEffect(() => {\n    videoRefs.current = videoRefs.current.slice(0, videoUrls.length);\n    while (videoRefs.current.length < videoUrls.length) {\n      videoRefs.current.push(null);\n    }\n  }, [videoUrls.length]);\n\n  return (\n    <div className=\"container mx-auto py-8 max-w-3xl\">\n      {/* Add markdown styles */}\n      <style dangerouslySetInnerHTML={{ __html: markdownStyles }} />\n\n      {/* Step 1: Landing Page */}\n      {step === 1 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">\n              Interactive Study Plan Generator\n            </CardTitle>\n            <CardDescription>\n              Tell us what you want to learn about\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Input\n                placeholder=\"e.g., Machine Learning, Web Development, Photography...\"\n                value={learningPrompt}\n                onChange={(e) => setLearningPrompt(e.target.value)}\n              />\n            </div>\n          </CardContent>\n          <CardFooter>\n            <Button\n              onClick={handlePromptSubmit}\n              disabled={!learningPrompt || isLoading}\n              className=\"w-full\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Generating Study Plan...\n                </>\n              ) : (\n                \"Generate Study Plan\"\n              )}\n            </Button>\n          </CardFooter>\n        </Card>\n      )}\n\n      {/* Step 2: Review Phase */}\n      {step === 2 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">Your Study Plan</CardTitle>\n            <CardDescription>\n              Review the generated study plan for \"{learningPrompt}\"\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {studyPlan && studyPlan.length > 0 ? (\n                studyPlan.map((item, index) => (\n                  <Card key={index} className=\"bg-muted/50\">\n                    <CardHeader className=\"py-3\">\n                      <div className=\"flex items-center justify-between\">\n                        <div className=\"text-xs font-medium px-2 py-1 rounded-full bg-primary/10 text-primary\">\n                          {item.subject}\n                        </div>\n                        <div className=\"text-xs font-medium px-2 py-1 rounded-full bg-secondary/10\">\n                          {item.depth_of_information}\n                        </div>\n                      </div>\n                      <CardTitle className=\"text-base\">{item.title}</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"py-2\">\n                      <p className=\"text-sm text-muted-foreground\">\n                        {item.outline}\n                      </p>\n                      <p className=\"text-xs mt-2 text-muted-foreground\">\n                        Estimated length:{\" \"}\n                        {Math.floor(item.proposed_length / 60)}:\n                        {(item.proposed_length % 60)\n                          .toString()\n                          .padStart(2, \"0\")}\n                      </p>\n                    </CardContent>\n                  </Card>\n                ))\n              ) : (\n                <div className=\"text-center py-6\">\n                  <p className=\"text-muted-foreground\">\n                    No study plan generated yet. Please try again.\n                  </p>\n                </div>\n              )}\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex gap-2\">\n            <Button\n              variant=\"outline\"\n              onClick={() => handlePlanApproval(false)}\n              className=\"w-1/2\"\n            >\n              Needs Refinement\n            </Button>\n            <Button onClick={() => handlePlanApproval(true)} className=\"w-1/2\">\n              Looks Good!\n            </Button>\n          </CardFooter>\n        </Card>\n      )}\n\n      {/* Step 3: Refinement */}\n      {step === 3 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">Refine Your Study Plan</CardTitle>\n            <CardDescription>\n              Tell us how to improve the study plan\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              <Textarea\n                placeholder=\"e.g., Add more beginner content, focus more on practical examples...\"\n                value={refinementInstructions}\n                onChange={(e) => setRefinementInstructions(e.target.value)}\n                rows={4}\n              />\n            </div>\n          </CardContent>\n          <CardFooter>\n            <Button\n              onClick={handleRefinementSubmit}\n              disabled={!refinementInstructions || isLoading}\n              className=\"w-full\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Refining Study Plan...\n                </>\n              ) : (\n                \"Submit Refinement\"\n              )}\n            </Button>\n          </CardFooter>\n        </Card>\n      )}\n\n      {/* Step 4: Character and Background Selection */}\n      {step === 4 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-2xl\">\n              Customize Your Learning Experience\n            </CardTitle>\n            <CardDescription>\n              Choose your narrator and background style\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-8\">\n              {/* Character Selection */}\n              <div>\n                <h3 className=\"text-lg font-medium mb-3\">\n                  Select Your Narration Character\n                </h3>\n                <div className=\"grid grid-cols-3 gap-4\">\n                  {characters.map((character) => (\n                    <div\n                      key={character.id}\n                      className={`flex flex-col items-center p-4 rounded-lg cursor-pointer transition-all ${\n                        selectedCharacter === character.id\n                          ? \"bg-primary/10 ring-2 ring-primary\"\n                          : \"hover:bg-muted\"\n                      }`}\n                      onClick={() => setSelectedCharacter(character.id)}\n                    >\n                      <Avatar className=\"h-20 w-20 mb-2\">\n                        <AvatarImage\n                          src={character.avatar || \"/placeholder.svg\"}\n                          alt={character.name}\n                        />\n                        <AvatarFallback>\n                          {character.name.substring(0, 2)}\n                        </AvatarFallback>\n                      </Avatar>\n                      <span\n                        className={`font-medium text-center ${\n                          character.name.length > 2 ? \"text-sm\" : \"text-base\"\n                        }`}\n                      >\n                        {character.name}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n\n              {/* Background Selection */}\n              <div>\n                <h3 className=\"text-lg font-medium mb-3\">\n                  Choose Your Background Style\n                </h3>\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  {backgrounds.map((background) => (\n                    <div\n                      key={background.id}\n                      className={`flex flex-col border rounded-lg cursor-pointer transition-all overflow-hidden ${\n                        selectedBackground === background.id\n                          ? \"ring-2 ring-primary\"\n                          : \"hover:bg-muted/50\"\n                      }`}\n                      onClick={() => setSelectedBackground(background.id)}\n                    >\n                      <div className=\"relative h-32 w-full overflow-hidden\">\n                        <img\n                          src={background.image || \"/placeholder.svg\"}\n                          alt={background.name}\n                          className=\"w-full h-full object-cover\"\n                        />\n                        {selectedBackground === background.id && (\n                          <div className=\"absolute inset-0 bg-primary/20 flex items-center justify-center\">\n                            <div className=\"bg-white rounded-full p-1\">\n                              <svg\n                                xmlns=\"http://www.w3.org/2000/svg\"\n                                width=\"24\"\n                                height=\"24\"\n                                viewBox=\"0 0 24 24\"\n                                fill=\"none\"\n                                stroke=\"currentColor\"\n                                strokeWidth=\"2\"\n                                strokeLinecap=\"round\"\n                                strokeLinejoin=\"round\"\n                                className=\"text-primary\"\n                              >\n                                <polyline points=\"20 6 9 17 4 12\" />\n                              </svg>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                      <div className=\"p-3\">\n                        <h4 className=\"font-medium\">{background.name}</h4>\n                        <p className=\"text-sm text-muted-foreground mt-1\">\n                          {background.description}\n                        </p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </CardContent>\n          <CardFooter>\n            <Button\n              onClick={handleContinueToVideos}\n              disabled={!selectedCharacter || !selectedBackground || isLoading}\n              className=\"w-full\"\n            >\n              {isLoading ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Generating Videos...\n                </>\n              ) : (\n                \"Continue to Videos\"\n              )}\n            </Button>\n          </CardFooter>\n        </Card>\n      )}\n\n      {/* Step 5: Video Display */}\n      {step === 5 && (\n        <div\n          className=\"fixed inset-0 bg-black z-50\"\n          ref={videoContainerRef}\n          onTouchStart={onTouchStart}\n          onTouchMove={onTouchMove}\n          onTouchEnd={onTouchEnd}\n        >\n          {/* Back button */}\n          <Button\n            variant=\"ghost\"\n            className=\"absolute top-4 left-4 z-50 text-white bg-black/50 hover:bg-black/70 rounded-full p-2 h-10 w-10\"\n            onClick={() => setStep(1)}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              width=\"24\"\n              height=\"24\"\n              viewBox=\"0 0 24 24\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"2\"\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              className=\"lucide lucide-arrow-left\"\n            >\n              <path d=\"m12 19-7-7 7-7\" />\n              <path d=\"M19 12H5\" />\n            </svg>\n            <span className=\"sr-only\">Go back</span>\n          </Button>\n\n          {/* TikTok-style video container */}\n          <div className=\"h-screen w-full overflow-hidden\">\n            {videoUrls.map((videoUrl, index) => (\n              <div\n                key={index}\n                className={`h-screen w-full flex flex-col items-center justify-center absolute inset-0 transition-transform duration-500 ease-in-out ${\n                  index === currentVideoIndex\n                    ? \"translate-y-0\"\n                    : index < currentVideoIndex\n                    ? \"-translate-y-full\"\n                    : \"translate-y-full\"\n                }`}\n              >\n                {/* Video container */}\n                <div className=\"relative w-full h-full bg-black\">\n                  {/* Background indicator */}\n                  <div className=\"absolute top-16 left-4 bg-black/50 text-white text-xs px-2 py-1 rounded-full z-10\">\n                    Background:{\" \"}\n                    {backgrounds.find((b) => b.id === selectedBackground)?.name}\n                  </div>\n\n                  {/* Actual video element */}\n                  <div className=\"absolute inset-0 flex items-center justify-center\">\n                    {videoLoading[index] && (\n                      <div className=\"absolute inset-0 flex items-center justify-center bg-black/60 z-10\">\n                        <Loader2 className=\"h-12 w-12 animate-spin text-white\" />\n                      </div>\n                    )}\n\n                    {videoErrors[index] ? (\n                      <div className=\"text-center text-white\">\n                        <X className=\"h-16 w-16 mx-auto text-red-500\" />\n                        <p className=\"mt-2 text-lg\">Failed to load video</p>\n                        <Button\n                          variant=\"outline\"\n                          className=\"mt-4 text-white border-white\"\n                          onClick={() => {\n                            const newErrors = [...videoErrors];\n                            newErrors[index] = false;\n                            setVideoErrors(newErrors);\n\n                            const newLoading = [...videoLoading];\n                            newLoading[index] = true;\n                            setVideoLoading(newLoading);\n\n                            // Try loading a fallback video\n                            const fallbackVideos = generateMockVideos(\n                              studyPlan.length\n                            );\n                            const newUrls = [...videoUrls];\n                            newUrls[index] =\n                              fallbackVideos[index % fallbackVideos.length];\n                            setVideoUrls(newUrls);\n                          }}\n                        >\n                          Try Fallback Video\n                        </Button>\n                      </div>\n                    ) : (\n                      <>\n                        <video\n                          ref={(el) => {\n                            videoRefs.current[index] = el;\n                          }}\n                          src={videoUrl}\n                          controls\n                          loop\n                          playsInline\n                          preload=\"auto\"\n                          poster=\"https://placehold.co/600x400/black/white?text=Loading+Video\"\n                          className=\"w-full h-full object-contain\"\n                          onLoadedData={() => handleVideoLoad(index)}\n                          onError={() => handleVideoError(index)}\n                          style={{\n                            display: videoLoading[index] ? \"none\" : \"block\",\n                          }}\n                        />\n                        {videoLoading[index] && (\n                          <div className=\"absolute inset-0 flex flex-col items-center justify-center bg-black/60\">\n                            <Loader2 className=\"h-12 w-12 animate-spin text-white mb-2\" />\n                            <p className=\"text-white text-sm\">\n                              Loading video...\n                            </p>\n                          </div>\n                        )}\n                      </>\n                    )}\n                  </div>\n\n                  {/* Video info overlay at bottom */}\n                  <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent\">\n                    <h3 className=\"text-white text-xl font-bold mb-1\">\n                      {index < studyPlan.length\n                        ? studyPlan[index].title\n                        : `Video ${index + 1}`}\n                    </h3>\n                    <p className=\"text-white/80 text-sm mb-2\">\n                      {index < studyPlan.length ? studyPlan[index].outline : \"\"}\n                    </p>\n                    {index < studyPlan.length && (\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"bg-white/20 text-white text-xs px-2 py-1 rounded-full\">\n                          {studyPlan[index].subject}\n                        </span>\n                        <span className=\"bg-white/20 text-white text-xs px-2 py-1 rounded-full\">\n                          {studyPlan[index].depth_of_information}\n                        </span>\n                        <span className=\"bg-white/20 text-white text-xs px-2 py-1 rounded-full\">\n                          {Math.floor(studyPlan[index].proposed_length / 60)}:\n                          {(studyPlan[index].proposed_length % 60)\n                            .toString()\n                            .padStart(2, \"0\")}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Right side controls - adjust position to match new footer position */}\n                  <div className=\"absolute right-4 bottom-36 flex flex-col items-center gap-4\">\n                    <button\n                      className=\"relative bg-transparent w-12 h-12 rounded-full flex items-center justify-center border border-white text-white\"\n                      onClick={() => handleHeartClick(index)}\n                    >\n                      <Heart\n                        size={24}\n                        className={`transition-all duration-300 ${\n                          likedVideos.includes(index)\n                            ? \"scale-110\"\n                            : \"scale-100\"\n                        }`}\n                        fill={likedVideos.includes(index) ? \"#f43f5e\" : \"none\"}\n                        color={\n                          likedVideos.includes(index) ? \"#f43f5e\" : \"white\"\n                        }\n                      />\n\n                      {/* Floating hearts */}\n                      {hearts.map((heart) => (\n                        <FloatingHeart key={heart.id} style={heart.style} />\n                      ))}\n                    </button>\n                    <button\n                      className=\"bg-transparent w-12 h-12 rounded-full flex items-center justify-center border border-white text-white\"\n                      onClick={() => setShowComments(!showComments)}\n                    >\n                      <MessageCircle\n                        size={24}\n                        className={\n                          showComments ? \"text-blue-400\" : \"text-white\"\n                        }\n                        fill={showComments ? \"#60a5fa\" : \"none\"}\n                      />\n                    </button>\n                    <button\n                      className=\"bg-transparent w-12 h-12 rounded-full flex items-center justify-center border border-white text-white\"\n                      onClick={handleShareClick}\n                    >\n                      <Share2 size={24} />\n                    </button>\n                  </div>\n\n                  {/* Navigation buttons */}\n                  {currentVideoIndex > 0 && !showComments && (\n                    <button\n                      onClick={() => navigateVideo(\"prev\")}\n                      className=\"absolute left-4 top-1/3 -translate-y-1/2 bg-white/20 hover:bg-white/30 rounded-full p-2 text-white\"\n                    >\n                      <svg\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"24\"\n                        height=\"24\"\n                        viewBox=\"0 0 24 24\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        strokeWidth=\"2\"\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        className=\"lucide lucide-chevron-up\"\n                      >\n                        <path d=\"m18 15-6-6-6 6\" />\n                      </svg>\n                    </button>\n                  )}\n\n                  {currentVideoIndex < videoUrls.length - 1 &&\n                    !showComments && (\n                      <button\n                        onClick={() => navigateVideo(\"next\")}\n                        className=\"absolute left-4 bottom-60 bg-white/20 hover:bg-white/30 rounded-full p-2 text-white\"\n                      >\n                        <svg\n                          xmlns=\"http://www.w3.org/2000/svg\"\n                          width=\"24\"\n                          height=\"24\"\n                          viewBox=\"0 0 24 24\"\n                          fill=\"none\"\n                          stroke=\"currentColor\"\n                          strokeWidth=\"2\"\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          className=\"lucide lucide-chevron-down\"\n                        >\n                          <path d=\"m6 9 6 6 6-6\" />\n                        </svg>\n                      </button>\n                    )}\n\n                  {/* Progress indicator */}\n                  <div className=\"absolute top-4 left-0 right-0 flex justify-center gap-1 px-4\">\n                    {videoUrls.map((_, i) => (\n                      <div\n                        key={i}\n                        className={`h-1 rounded-full ${\n                          i === currentVideoIndex\n                            ? \"bg-white w-6\"\n                            : \"bg-white/30 w-4\"\n                        } transition-all duration-300`}\n                      />\n                    ))}\n                  </div>\n\n                  {/* Narrator avatar */}\n                  <div className=\"absolute top-4 right-4 flex items-center gap-2\">\n                    <span className=\"text-white text-sm\">\n                      Narrated by{\" \"}\n                      {characters.find((c) => c.id === selectedCharacter)?.name}\n                    </span>\n                    <Avatar className=\"h-8 w-8 border-2 border-white\">\n                      <AvatarImage\n                        src={\n                          characters.find((c) => c.id === selectedCharacter)\n                            ?.avatar || \"/placeholder.svg\"\n                        }\n                        alt={\n                          characters.find((c) => c.id === selectedCharacter)\n                            ?.name || \"Narrator\"\n                        }\n                      />\n                      <AvatarFallback>\n                        {characters\n                          .find((c) => c.id === selectedCharacter)\n                          ?.name?.substring(0, 2) || \"NA\"}\n                      </AvatarFallback>\n                    </Avatar>\n                  </div>\n\n                  {/* Comments section */}\n                  <div\n                    className={`absolute inset-0 bg-black/90 z-20 transition-transform duration-300 ${\n                      showComments ? \"translate-y-0\" : \"translate-y-full\"\n                    }`}\n                  >\n                    <div className=\"flex flex-col h-full\">\n                      {/* Comments header */}\n                      <div className=\"flex items-center justify-between p-4 border-b border-gray-800\">\n                        <h3 className=\"text-white text-lg font-semibold\">\n                          Comments\n                        </h3>\n                        <button\n                          onClick={() => debug()}\n                          className=\"text-white p-1 rounded-full hover:bg-red-800\"\n                        >\n                          <X size={24} />\n                        </button>\n                      </div>\n\n                      {/* Comments list */}\n                      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n                        {comments[currentVideoIndex]?.length ? (\n                          comments[currentVideoIndex].map((comment) => (\n                            <div key={comment.id} className=\"flex gap-3\">\n                              <Avatar className=\"h-8 w-8 flex-shrink-0\">\n                                <AvatarImage\n                                  src={\n                                    comment.user.avatar || \"/placeholder.svg\"\n                                  }\n                                  alt={comment.user.name}\n                                />\n                                <AvatarFallback>\n                                  {comment.user.name.substring(0, 2)}\n                                </AvatarFallback>\n                              </Avatar>\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-center gap-2\">\n                                  <span className=\"text-white font-medium text-sm\">\n                                    {comment.user.name}\n                                    {comment.isAI && (\n                                      <span className=\"ml-1 text-xs bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded-full\">\n                                        AI\n                                      </span>\n                                    )}\n                                  </span>\n                                  <span className=\"text-gray-400 text-xs\">\n                                    {comment.timestamp}\n                                  </span>\n                                </div>\n                                {comment.isAI ? (\n                                  <div className=\"text-white/90 text-sm mt-1 markdown-content\">\n                                    <ReactMarkdown>\n                                      {comment.text}\n                                    </ReactMarkdown>\n                                  </div>\n                                ) : (\n                                  <p className=\"text-white/90 text-sm mt-1\">\n                                    {comment.text}\n                                  </p>\n                                )}\n                              </div>\n                            </div>\n                          ))\n                        ) : (\n                          <div className=\"flex flex-col items-center justify-center h-40 text-gray-500\">\n                            <MessageCircle\n                              size={40}\n                              className=\"mb-2 opacity-50\"\n                            />\n                            <p>No comments yet</p>\n                            <p className=\"text-sm\">\n                              Be the first to comment on this video\n                            </p>\n                          </div>\n                        )}\n                        <div ref={commentsEndRef} />\n                      </div>\n\n                      {/* Comment input */}\n                      <div className=\"p-4 border-t border-gray-800\">\n                        <div className=\"flex gap-2\">\n                          <Input\n                            placeholder=\"Ask a question about this video...\"\n                            value={commentText}\n                            onChange={(e) => setCommentText(e.target.value)}\n                            className=\"bg-gray-800 border-gray-700 text-white\"\n                            onKeyDown={(e) => {\n                              if (e.key === \"Enter\" && !e.shiftKey) {\n                                e.preventDefault();\n                                handleCommentSubmit();\n                              }\n                            }}\n                          />\n                          <Button\n                            size=\"icon\"\n                            onClick={handleCommentSubmit}\n                            disabled={\n                              !commentText.trim() || isSubmittingComment\n                            }\n                            className=\"bg-blue-600 hover:bg-blue-700 text-white\"\n                          >\n                            {isSubmittingComment ? (\n                              <Loader2 size={18} className=\"animate-spin\" />\n                            ) : (\n                              <Send size={18} />\n                            )}\n                          </Button>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* Share modal */}\n          <ShareModal\n            isOpen={isShareModalOpen}\n            onClose={() => setIsShareModalOpen(false)}\n            videoTitle={\n              currentVideoIndex < studyPlan.length\n                ? studyPlan[currentVideoIndex]?.title || \"Learning Video\"\n                : `Video ${currentVideoIndex + 1}`\n            }\n          />\n        </div>\n      )}\n\n      {/* Loading Overlay */}\n      {isLoading && step === 4 && (\n        <div className=\"fixed inset-0 bg-background/80 flex items-center justify-center z-50\">\n          <div className=\"text-center\">\n            <Loader2 className=\"h-12 w-12 animate-spin mx-auto\" />\n            <p className=\"mt-4 text-lg font-medium\">\n              Generating your videos...\n            </p>\n            <p className=\"text-muted-foreground\">This may take a moment</p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}